
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Instalocate Partners API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/instalocate_logo.png" class="logo" alt="Instalocate logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#partners-api-introduction" class="toc-h1 toc-link" data-title="partners-api-introduction">Partners API Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#types-of-apis" class="toc-h2 toc-link" data-title="types-of-apis">Types of APIs</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="authentication">Authentication:</a>
                  </li>
                  <li>
                    <a href="#key-concepts" class="toc-h2 toc-link" data-title="key-concepts">Key Concepts:</a>
                  </li>
                  <li>
                    <a href="#postman-collections" class="toc-h2 toc-link" data-title="postman-collections">Postman Collections:</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#partners-admin" class="toc-h1 toc-link" data-title="partners-admin">Partners Admin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-partner-information" class="toc-h2 toc-link" data-title="get-partner-information">Get partner information</a>
                  </li>
                  <li>
                    <a href="#update-partner-information" class="toc-h2 toc-link" data-title="update-partner-information">Update partner information</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bookings" class="toc-h1 toc-link" data-title="bookings">Bookings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#booking-39-s-latest-status" class="toc-h2 toc-link" data-title="booking-s-latest-status">Booking's latest status</a>
                  </li>
                  <li>
                    <a href="#update-a-booking" class="toc-h2 toc-link" data-title="update-a-booking">Update a booking</a>
                  </li>
                  <li>
                    <a href="#delete-a-booking" class="toc-h2 toc-link" data-title="delete-a-booking">Delete a booking</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.instalocate.com'>(c) 2018 Instalocate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='partners-api-introduction'>Partners API Introduction</h1>
<p>Welcome to Instalocate Partners API! You can use this API to add new bookings to Instalocate platform, set up webhook to get automatic notification, get the latest status of the booking etc. </p>
<h3 id='types-of-apis'>Types of APIs</h3><h4 id='production-mode'>Production Mode</h4>
<p>All the production calls should be made to this API url
URL: <code>https://partners-prod-api.instalocate.com/v1</code></p>
<h4 id='test-mode'>Test Mode</h4>
<p>This api should be used for all the testing
URL: <code>https://partners-test-api.instalocate.com/v1</code></p>
<h3 id='authentication'>Authentication:</h3>
<p>In order to use the production and test API, every call should have these two parameters - <code>partner_id</code> and <code>api_key</code>.</p>

<ul>
<li><p><code>partner_id</code> - this id is pre-generated by Instalocate team and is given to the partner. This id will be used to identify partners in every API call. For API documentation, we have created a partner_id for testing.</p></li>
<li><p><code>api_key</code> - this API key is pre-generated by Instalocate team and is given the partner. The calls will be successful using this API key only. For API documentation, we have created an api key for test purposes only - please don&#39;t use this in production.</p></li>
</ul>

<p>To generate the production keys, please contact help@instalocate.com. </p>
<h3 id='key-concepts'>Key Concepts:</h3>
<ul>
<li>Every itinerary is associated with a booking id (also known as PNR). This booking id should be unique for a given partner. </li>
<li>Every booking contains a list of flights. </li>
</ul>
<h3 id='postman-collections'>Postman Collections:</h3>
<ul>
<li>You can see Postman collections here: <a href=' https://documenter.getpostman.com/view/4614315/RWEgrz4C'> https://documenter.getpostman.com/view/4614315/RWEgrz4C</a></li>
</ul>
<h1 id='partners-admin'>Partners Admin</h1>
<p>To create, update and delete a partner.</p>

<p>API End Point : <code>/partners</code></p>

<p>Examples: </p>

<ul>
<li>Production: <code>https://partners-prod-api.instalocate.com/v1/partners</code></li>
<li>Test: <code>https://partners-test-api.instalocate.com/v1/partners</code></li>
</ul>

<!--
### Register a new partner

Register a new partner using ```mode=register_partner```

#### Post Parameters

Parameter | Value | Description | Required?
--------- | ------- | ----------- | -----------
`mode` | `register_partner ` | This mode is used for adding new partners | Required
`params` | Dictionary of values | See below for the details | Required

#### `params` values

Parameter |  Description |  Required?
--------- | ----------- | -----------
`name ` | Name of the partner  | Required
`webhook ` | Webhook for API callbacks. Ignore this if callbacks are not required. You can update this later on  | Optional

> Example for registering a new partner:

```shell 
curl --request POST \
  --url https://partners-test-api.instalocate.com/v1/partners \
  --header 'Content-Type: application/json' \
  --header 'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi' \
  --data '{
    "mode": "register_partner",
        "params": {
            "name": "Partner ABC",    
            "webhook": "https://www.travel.com/api_webhook"     }
    }'
```-->
<h3 id='get-partner-information'>Get partner information</h3>
<p>Get the saved partner information <code>mode=get_partner_info</code></p>
<h4 id='post-parameters'>Post Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>mode</code></td>
<td><code>get_partner_info</code></td>
<td>This mode is used to get partner information</td>
<td>Required</td>
</tr>
<tr>
<td><code>params</code></td>
<td>Dictionary of params values</td>
<td>See below for the details</td>
<td>Required</td>
</tr>
</tbody></table>
<h4 id='params-values'><code>params</code> values</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>partner_id</code></td>
<td>Partner id</td>
<td>Required</td>
</tr>
</tbody></table>

<blockquote>
<p>Example for getting partner information:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://partners-test-api.instalocate.com/v1/partners <span class="se">\</span>
  --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi'</span> <span class="se">\</span>
  --data <span class="s1">'{
    "mode": "get_partner_info",
    "params": {
        "partner_id": "575a4ef4-9eef-4f51-ac9d-d44c9126da9c"
    }
}'</span>
</code></pre><h3 id='update-partner-information'>Update partner information</h3>
<p>Update the partner information </p>
<h4 id='post-parameters-2'>Post Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>mode</code></td>
<td><code>update_partner</code></td>
<td>This mode is used to get partner information</td>
<td>Required</td>
</tr>
<tr>
<td><code>params</code></td>
<td>Dictionary of partner values</td>
<td>See below for the details</td>
<td>Required</td>
</tr>
</tbody></table>
<h4 id='params-values-2'><code>params</code> values</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>partner_id</code></td>
<td>Partner id</td>
<td>Required</td>
</tr>
<tr>
<td><code>meta_data</code></td>
<td>Dictionary containing values</td>
<td>Required</td>
</tr>
</tbody></table>
<h4 id='meta_data-values'><code>meta_data</code> values</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td>Partner Name</td>
<td>Optional</td>
</tr>
<tr>
<td><code>webhook</code></td>
<td>API Webhook url</td>
<td>Optional</td>
</tr>
</tbody></table>

<blockquote>
<p>Example for updating an existing partner information:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://partners-test-api.instalocate.com/v1/partners <span class="se">\</span>
  --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi'</span> <span class="se">\</span>
  --data <span class="s1">'{
    "mode": "update_partner",
    "params": {
        "partner_id": "575a4ef4-9eef-4f51-ac9d-d44c9126da9c",
        "meta_data": {
            "name": "Partner Name Google",
            "webhook": "https://travel.example.com/api_webhook"
        }
    }
}'</span>
</code></pre>
<!--
### Delete partner

Delete a partner

#### Post Parameters

Parameter | Value | Description | Required?
--------- | ------- | ----------- | -----------
`mode` | `delete_partner ` | This mode is used to delete a partner | Required
`params` | Dictionary of partner values | See below for the details | Required

#### `params` values

Parameter |  Description |  Required?
--------- | ----------- | -----------
`partner_id` | Partner id  | Required


> Example for deleting a partner

```shell 
curl --request POST \
  --url https://partners-test-api.instalocate.com/v1/partners \
  --header 'Content-Type: application/json' \
  --header 'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi' \
  --data '{
    "mode": "delete_partner",
        "params": {
            "partner_id": "575a4ef4-9eef-4f51-ac9d-d44c9126da9c",
    }
}'
```-->
<h1 id='bookings'>Bookings</h1>
<p>This API is used to create, update and delete a booking. One booking is associated with one partner booking id (or PNR). </p>
<h4 id='api-end-point'>API End Point</h4><pre class="highlight plaintext"><code>
**Examples: **

* Production: ```https://partners-prod-api.instalocate.com/v1/bookings ```
* Test: ```https://partners-test-api.instalocate.com/v1/bookings ```


### Create a new booking

Create a new booking using ```mode=add_booking```

#### Post Parameters

Parameter | Value | Description | Required?
--------- | ------- | ----------- | -----------
`mode` | `add_booking` | This mode is used for adding new bookings. | Required
`params` | Dictionary of booking values | See below for the details | Required

#### Booking Values

Parameter |  Description |  Required?
--------- | ----------- | -----------
`partner_id` | This partner id is given at the time of giving API access  | Required
`partner_booking_unique_id` | This is a unique booking id of the partner. For example: PNR, ticket number. This has to be a unique value | Required
`flights` | An array of flights of a given booking. See below for the individual flight structure | Required

#### Individual Flight

Parameter |  Description |  Required?
--------- | ----------- | -----------
`airline_code` | IATA Airline Code e.g. BA | Required
`flight_number` | Flight number: 123, 123A etc. (it can contain alphabets). If it is zero padded (e.g. 0123), zero will be removed | Required
`departure_date` | Date of departure in YYYY-MM-DD format. Example: 2018-05-18 | Required
`source_airport` | IATA Source Airport Code (e.g. LHR) | Required
`destination_airport` | IATA Source Airport Code (e.g. JFK) | Required
`partner_flight_unique_id` | To uniquely identify a flight. This value will be passed back in the API response.  | Optional

&gt; Example for creating a new booking:

```shell 
curl --request POST \
  --url https://partners-test-api.instalocate.com/v1/bookings \
  --header 'Content-Type: application/json' \
  --header 'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi' \
  --data '{
    "mode": "add_booking",
    "params": {
        "partner_id": "2473e9aa-ef9b-4e85-9f6e-57ac3ff895b7",
        "partner_booking_uid": "ABHJPD",        
        "flights": [ 
            {
                "airline_code": "BA",
                "flight_number": "286",
                "departure_date": "2018-06-01",
                "source_airport": "SFO",
                "destination_airport": "LHR"
            }
        ]
    }
}'
</code></pre><h3 id='booking-39-s-latest-status'>Booking&#39;s latest status</h3>
<p>Get the latest status of an existing booking using <code>mode=latest_status_bookings</code></p>
<h4 id='post-parameters'>Post Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>mode</code></td>
<td><code>latest_status_booking</code></td>
<td>This mode is used to get the latest information</td>
<td>Required</td>
</tr>
<tr>
<td><code>params</code></td>
<td>Dictionary of partner and booking unique ids</td>
<td>See below for the details</td>
<td>Required</td>
</tr>
</tbody></table>
<h4 id='partner-and-booking-unique-ids-dictionary'>Partner and Booking Unique IDs Dictionary</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>partner_id</code></td>
<td>This partner id is given at the time of giving API access</td>
<td>Required</td>
</tr>
<tr>
<td><code>partner_booking_unique_id</code></td>
<td>This is a unique booking id of the partner. For example: PNR, ticket number. This has to be a unique value</td>
<td>Required</td>
</tr>
</tbody></table>

<blockquote>
<p>Example for getting the latest status of a booking:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://partners-test-api.instalocate.com/v1/bookings <span class="se">\</span>
  --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi'</span> <span class="se">\</span>
  --data <span class="s1">'{
    "mode": "latest_status_booking",
    "params": {
        "partner_id": "2473e9aa-ef9b-4e85-9f6e-57ac3ff895b7",
        "partner_booking_uid": "ABHJPD"
    }
}'</span>
</code></pre><h3 id='update-a-booking'>Update a booking</h3>
<p>You can change the flight information for a given booking id. In order to update a given booking id, first delete the existing booking and create a new booking with the updated flight numbers. </p>
<h3 id='delete-a-booking'>Delete a booking</h3>
<p>Delete an existing booking using <code>mode=delete_bookings</code></p>
<h4 id='post-parameters-2'>Post Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>mode</code></td>
<td><code>delete_booking</code></td>
<td>This mode is used to delete a given booking</td>
<td>Required</td>
</tr>
<tr>
<td><code>params</code></td>
<td>Dictionary of partner and booking unique ids</td>
<td>See below for the details</td>
<td>Required</td>
</tr>
</tbody></table>
<h4 id='partner-and-booking-unique-ids-dictionary-2'>Partner and Booking Unique IDs Dictionary</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td><code>partner_id</code></td>
<td>This partner id is given at the time of giving API access</td>
<td>Required</td>
</tr>
<tr>
<td><code>partner_booking_unique_id</code></td>
<td>This is a unique booking id of the partner. For example: PNR, ticket number. This has to be a unique value</td>
<td>Required</td>
</tr>
</tbody></table>

<blockquote>
<p>Delete an existing booking:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
  --url https://partners-test-api.instalocate.com/v1/bookings <span class="se">\</span>
  --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  --header <span class="s1">'x-api-key: D61qO8qcoR4ArQvOCYtauSHQqU24qJv2TvQIBwPi'</span> <span class="se">\</span>
  --data <span class="s1">'{
    "mode": "delete_booking",
    "params": {
        "partner_id": "2473e9aa-ef9b-4e85-9f6e-57ac3ff895b7",
        "partner_booking_uid": "ABHJPD"
    }
}'</span>
</code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
